{"Name":"Push Simulated Cases GitSyncBeta","Integration":"GitSyncBeta","Script":"from GitSyncManager import GitSyncManager\nfrom SiemplifyJob import SiemplifyJob\nfrom SiemplifyUtils import output_handler\n\nSCRIPT_NAME = \"Push Simulated Cases\"\n\n\n@output_handler\ndef main():\n    siemplify = SiemplifyJob()\n    siemplify.script_name = SCRIPT_NAME\n\n    commit_msg = siemplify.extract_job_param(\"Commit\")\n    cases = list(\n        [\n            _f\n            for _f in [\n                x.strip()\n                for x in siemplify.extract_job_param(\"Simulated Cases\", \" \").split(\",\")\n            ]\n            if _f\n        ]\n    )\n\n    try:\n        gitsync = GitSyncManager.from_siemplify_object(siemplify)\n\n        for case_name in gitsync.api.get_simulated_cases():\n            if case_name in cases:\n                siemplify.LOGGER.info(f\"Pushing simulated case {case_name}\")\n                gitsync.content.push_simulated_case(\n                    case_name, gitsync.api.export_simulated_case(case_name)\n                )\n\n        gitsync.commit_and_push(commit_msg)\n\n    except Exception as e:\n        siemplify.LOGGER.error(f\"General error performing Job {SCRIPT_NAME}\")\n        siemplify.LOGGER.exception(e)\n        raise\n\n\nif __name__ == \"__main__\":\n    main()\n","Creator":"Admin","RunIntervalInSeconds":900,"Description":"Export simulate cases to the repo","IsEnabled":true,"IsCustom":true,"Version":1,"IsSystem":false,"Parameters":[{"JobDefinitionId":123,"IsMandatory":true,"DefaultValue":"","Description":"Commit message","Name":"Commit","Type":2},{"JobDefinitionId":123,"IsMandatory":false,"DefaultValue":null,"Description":"Optional parameter to override the one found in the integration instance","Name":"Repo URL","Type":2},{"JobDefinitionId":123,"IsMandatory":false,"DefaultValue":null,"Description":"Optional parameter to override the one found in the integration instance","Name":"Branch","Type":2},{"JobDefinitionId":123,"IsMandatory":false,"DefaultValue":"","Description":"Optional parameter to override the one found in the integration instance","Name":"Commit Author","Type":2},{"JobDefinitionId":123,"IsMandatory":true,"DefaultValue":"","Description":"List of simulated cases names, separated by a comma, to push to the repo","Name":"Simulated Cases","Type":2}],"PythonVersion":"None"}