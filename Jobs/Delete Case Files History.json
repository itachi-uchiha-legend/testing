{
    "lastRunStatus": 0,
    "lastRunTime": 1751287446645,
    "uniqueIdentifier": "612eeb8a-b627-4893-8840-13e29a40b752",
    "id": 0,
    "jobDefinitionId": 0,
    "name": "Delete Case Files History",
    "integration": "Siemplify",
    "script": "import os\n\nfrom SiemplifyJob import SiemplifyJob\nfrom SiemplifyUtils import delete_older_files_from_folder, output_handler\n\n\n@output_handler\ndef main():\n    siemplify = SiemplifyJob()\n    siemplify.script_name = \"Siemplify - Delete Case Files History\"\n    days_backwards = int(siemplify.parameters.get(\"Days\", 3))\n\n    siemplify.LOGGER.info(\"-----Job Started-----\")\n\n    if \"win\" in os.environ.get(\"OS\", \"\").lower():\n        folders = [\n            r\"I:\\Siemplify_Channels\\Cases\\Done\",\n            r\"I:\\Siemplify_Channels\\Cases\\Error\",\n        ]\n    else:\n        folders = [\n            r\"/i/Siemplify_Channels/Cases/Done\",\n            r\"/i/Siemplify_Channels/Cases/Error\",\n        ]\n\n    for folder in folders:\n        try:\n            siemplify.LOGGER.info(f\"Deleting files from {folder}\")\n            delete_older_files_from_folder(folder, days_backwards)\n        except Exception as e:\n            siemplify.LOGGER.error(f\"Unable to delete files from {folder}\")\n            siemplify.LOGGER.exception(e)\n\n    siemplify.LOGGER.info(\"-----Job Finished-----\")\n\n\nif __name__ == \"__main__\":\n    main()\n",
    "creator": "Siemplify System",
    "description": "Delete case files that are older than X days from Done and Error folders of the ETL",
    "isEnabled": true,
    "isCustom": false,
    "version": 1,
    "parameters": [
        {
            "id": 79,
            "isMandatory": true,
            "name": "Days",
            "type": 1,
            "value": "10"
        }
    ],
    "runIntervalInSeconds": 60,
    "creationTime": "2025-06-19T13:37:59.602Z",
    "lastModificationTime": "2025-06-30T12:44:06.653Z",
    "isSystemJob": false,
    "jobDefinitionName": "Delete Case Files History",
    "agentIdentifier": null
}